# 三. 词法分析

重点：词法分析器的输入、输出，用于识别符号的状态转移图的构造

难点：根据状态转移图实现词法分析器的设计

## 1. 词法分析器的功能
输入**源程序**，输出**单词符号**（token）

### 1.1 单词的分类与表示
**关键字、标识符、常数、运算符、分界符**

### 1.2 词法分析器的输出
（种别码，属性值）种别码可自主设计编码方案：按单词种类，按单词特性

关键字、界符、运算符单词自身属性为空；标识符单词自身的属性值为**符号表的入口指针**；常数的属性值为常数表的入口指针。

### 1.3 源程序的输入缓冲与预处理
超前搜索与回退、缓冲区、空白字符的剔除

### 1.4 词法分析阶段的错误处理
发现不改正：非法字符检查、关键字拼写错误检查、不封闭错误检查、重复说明检查、错误回复与续编译。
紧急方式恢复。

### 1.5 词法分析器的位置
- 语法分析器为中心（优点：简化设计、提高效率、增强可移植性）
- 词法分析为独立程序，以文件组织

## 2. 词法分析阶段的设计与实现
构造识别单词的DFA，编写词法分析程序

## 3. 词法分析程序的自动生成
- 利用Lex建立词法分析程序
- Lex二义性问题的两条原则：最长匹配、优先匹配

## 4. 本章小结

- 为提高效率，词法分析器使用**缓冲技术**，而且在将字符流读入缓冲区时，是经过剔除注解、无用空白符等预处理后的结果；
- **词法的等价描述形式**有正则文法、有穷状态自动机、正则表达式，其中有穷状态自动机可以用状态转换图表示；
- 单词的识别相当于正则语言的识别。

## 5. 习题
- **不存在**这样一些语言，它们能被确定的有穷自动机识别，但不能用正则表达式表示。
- DFA的成分：有穷字母表、**单个初始状态**、多个终止状态、转换函数
- 一个正规语言可能对应多个正规文法。**正确**。
- 一个正规式只能对应一个确定的有限状态自动机。**错误**。

